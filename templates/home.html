<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>          
            Strava Recap
    </title>
    <link rel="icon" type="image/png" href="/static/icon.png">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 10px;
        }

        #strava-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1%;
        }

        #strava-wrapped {
            font-size: 24px;
            margin-bottom: 20px;
            padding: 1%;
        }

        /* Add some padding to the question mark icon */
        #info-icon {
            cursor: pointer;
            padding: 5px;
        }.navbar-brand {
            display: flex;
            align-items: center;
            height: 100%;
        }.navbar-brand img {
            max-height: 30px; /* Adjust the max-height according to your needs */
            width: auto;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <!-- Custom Logo Image -->
            <a class="navbar-brand" href="#">
                <img src="static/logo.png" alt="Logo">
            </a>
            <a class="navbar-brand" href="#">
                <img src="static/apilogo.png" alt="Logo">
            </a>
            
            <!-- Question Mark Icon -->
            <span id="info-icon" data-bs-toggle="modal" data-bs-target="#infoModal">&#63;</span>
        </div>
    </nav>

    <div id="strava-container">
        
        {% if 'access_token' in session %}
            {% include 'dashboard.html' %}
        {% else %}
            {% include 'login.html' %}   
        {% endif %}

    </div>
    <!-- Info Modal -->
    <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="infoModalLabel">Website Description</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                   
                    <p>&copy; <span id="currentYear"></span> This website is designed to share information from your strava activities for the current year to give you a strava recap. The app can take upwards of 10 seconds to load since it requires reading all your activities. None of the account data used by STrecap is stored or collected, and it is not shared with any third parties. By using STrecap, you agree to the use of your strava account information. </p>
                    <p>This website was built by Raja Batra. Please direct any questions to rajabatra09@gmail.com </p>
                    <p><a href="https://github.com/rajabatra" target="_blank">GitHub</a>.</p>
                    <p><a href="https://strava.com/dashboard" target="_blank">Link To Strava</a>.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

 
    <script>
        // Get the current year
        var currentYear = new Date().getFullYear();

        // Update the content of the element with id "currentYear"
        document.getElementById("currentYear").textContent = currentYear;
    </script>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VZVQ2432KT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VZVQ2432KT');
</script>
</body>
</html>